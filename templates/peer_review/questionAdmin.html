{% extends "peer_review/base.html" %}
{% load staticfiles %}

{% block extrahead %}
    <title>Create Question</title>

    <script type="text/javascript" src="{% static "peer_review/js/stacking.js" %}"></script>
    <script type="text/javascript" src="{% static "peer_review/js/jquery.dataTables.min.js" %}"></script>
    <script type="text/javascript">
        /**Todo**
        Delete using Ajax
        Update the question list using Ajax, after insertion or deletion
        Refactor: Clean up the create_post ajax call
        Refactor: Move js code to a seperate file
        */

        var isEditing = false;
        var questionPk;
        $(document).ready(function () {
            addOnSubmitHandler();
            selected();
            $('#questionList').DataTable( {
                                            columns: [
                                                        { title: "Label" },
                                                        { title: "Publish Date" },
                                                        { title: "Grouping" },
                                                        { title: "Type." },
                                                    ],
                                            "fnCreatedRow": function(row, data, index) {
                                                $(row).append('<td><button class="btn btn-success btn-xs" type = "button" onclick = "editQuestion()">Edit</button>  '
                                                +'<button type="button" class="btn btn-warning btn-xs" onclick = "deleteQuestion(' + "'" + data[0] + "'" + ')">Delete</button></td>');
                                            },
                                            "bPaginate": false
                                           }); 
            updateQuestionList();
            
        });

        function addOnSubmitHandler() {
            $('#questionForm').on('submit', function (event) {
                event.preventDefault();
            });
        }

        function saveSuccess(message) {
            console.log(message);
            //Show success alertbox thingy
            $('#results').html('<div class="alert alert-success">' + message + '</div>');

            //Make the alert box disappear after 5 seconds
            window.setTimeout(function () {
                $(".alert").fadeTo(500, 0).slideUp(500, function () {
                    $(this).remove();
                });
            }, 5000);

            //This clear the box even when editing, for some reason
            //Clear question inputbox
            //$('#question').val([]);

            editing = false;
            questionPk = 0;
            clearPage();
            updateQuestionList();
        }

        function changeGrouping() {
            //Shows the label table if the grouping is changed to 'label'
            if ($('#grouping').val() === 'Label') {
                $('#labelTable').parent().parent().parent().fadeIn();
                $('.labelTable').fadeIn();
            } else {
                $('#labelTable').parent().parent().parent().fadeOut();
                $('.labelTable').fadeOut();
            }

        }

        function selected() {
            var value = document.getElementById("type").value;
            document.getElementById("typeDisplay").innerHTML = document.getElementById(value).innerHTML;
            initialiseStacking();
            changeGrouping();

            if ($('#type').val() == 'Label')
                $('.hide_in_label').hide();
            else
                $('.hide_in_label').show();

            if ($('#type').val() == 'Rank')
                $('#add').hide();
            else
                $('#add').show();

        }

        function clearPage()
        {
            //$('#table tr').remove();  //ToDo: Make this not remove the heading
            $('#question').val([]);
            $('#type').val('Label');
            $('#grouping').val('None');
            editing = false;
            questionPk = -1;
            selected();
        }

        function getLabels() {
            var labels = [];

            $('#labelTable > tbody > tr').each( function (index, value) {
                label = $(this).find('#choice').val();
                labels.push(label);
            });  
            console.log(labels);
            return labels;
        }

        function getChoices() {
            var choices = [];

            $('#table > tbody > tr').each(function (index, value) {
                choice = $(this).find('#choice').val();
                if (choice != '')
                    choices.push(choice);
            });

            return choices;
        }

        function getFreeformItems() {
            var items = {};
            items.types = [];
            items.values = [];
            $('#table > tbody > tr').each(function (index, value) {
                var value = $(this).find('#choice').val();
                var type = $(this).find('#type').val();
                items.types.push(type);
                items.values.push(value);
            });
            return items;            
        }

        function getRates() {
            var rates = {scales: [], optionals: [], choices: []};

            $('#table > tbody > tr').each(function (index, value) {
                var optional = $(this).find('#optional').is(':checked');
                var scale = $(this).find('#scale').val();
                var choice = $(this).find('#choice').val();

                if (choice != '') {
                    rates.scales.push(scale);
                    rates.optionals.push(optional);
                    rates.choices.push(choice);
                }
            });

            return rates;
        }

        var upArrow = '<td style="text-align: center; width: 20px;">' +
                '<a class="move up" href="javascript:void(0)" title="move up">' +
                '<span class="glyphicon glyphicon-arrow-up"></span>' +
                '</a>' +
                '</td>';

        var downArrow = '<td style="text-align: center; width: 20px; ">' +
                '<a class="move down" href="javascript:void(0)" title="move down">' +
                '<span class="glyphicon glyphicon-arrow-down"></span>' +
                '</a>' +
                '</td>';

        var numberBox = '<td style="text-align: center; width: 10px;">' +
                '<input type="number" class="noBorder" id="scale" style="text-align: center; "/>' +
                '</td>';

        var checkBox = '<td style="text-align: center; width: 10px;">' +
                '<div class="checkbox">' +
                '<input type="checkbox" id = optional>' +
                '</div>' +
                '</td>';

        var removeButton = '<td style="text-align: center; width: 20px; ">' +
                '<a class="remove" href="javascript:void(0)">' +
                '<span class="glyphicon glyphicon-minus"></span>' +
                '</a>' +
                '</td>';

        var dropDown = '<td>' +
                '<select class="form-control" id = "type">' +
                '<option value="Word">Word</option>' +
                '<option value="Paragraph">Paragraph</option>' +
                '<option value="Integer">Integer</option>' +
                '<option value="Real">Real</option>' +
                '</select>' +
                '</td>';

        function editQuestion(pk) {
            isEditing = true;
            questionPk = pk;

            //Query question details from db
            $.ajax({
                url: '/questionAdmin/getQuestion/' + pk,
                type: 'get',
                success: function (data) {
                    console.log(data);
                    $('#question').val(data.questionText);
                    $('#type').val(data.questionType);
                    $('#grouping').val(data.questionGrouping);
                    selected();

                    if (data.questionType == "Choice")
                    {
                        $.ajax({
                            url: '/questionAdmin/getChoices/' + pk,
                            type: 'get',
                            success: function(data) {
                                console.log(data);
                                for (var c in data)
                                    if (data.hasOwnProperty(c))
                                {
                                    addRow(data[c], '#table');
                                }
                            }
                        });//End choice ajax
                    } else
                    if (data.questionType == "Rank")
                    {
                        $.ajax({
                            url: '/questionAdmin/getRank/' + pk,
                            type: 'get',
                            success: function(data) {
                                console.log(data);
                                $('#first').val(data.firstWord);
                                $('#second').val(data.secondWord);
                            }
                        });//End rank ajax   
                    }
                },
                failure: function (data) {
                    alert('Error');
                }
            });//End question details ajax

            //Go to top of page
            window.scrollTo(0, 0);
        }

        //Update the question list
        function updateQuestionList()
        {
            $.ajax({
                url: '/questionAdmin/getQuestionList/',
                type: 'get',
                success: function(data) {
                    var contents = [];
                    for (var i = 0; i < data.labels.length; i++)
                    {
                        contents.push([data.labels[i], data.publishDates[i].substring(0, 10), data.types[i], data.groupings[i]])
                    }
                    t = $('#questionList').DataTable();
                    t.clear();
                    t.rows.add(contents).draw();

                }                   
            })
        }

        function textBox(text) {
            return '<td style="text-align: center; ">' +
                    '<input type="text" class="noBorder" id="choice" value="' +
                    text +
                    '" style="text-align: center; "/>' +
                    '</td>';
        }

        function addRow(text, selector) {
            $table = $(selector);
            if (selector != '#labelTable') {
                switch ($('#type').val()) {
                    case 'Choice':
                        $table.append('<tr>' + textBox(text) + upArrow + downArrow + removeButton + '</tr>');
                        break;
                    case 'Rate':
                        $table.append('<tr>' + checkBox + numberBox + textBox(text) + upArrow + downArrow + removeButton + '</tr>');
                        break;
                    case 'Freeform':
                        $table.append('<tr>' + dropDown + textBox(text) + upArrow + downArrow + removeButton + '</tr>');
                        break;
                    default:
                        break;
                }
            } else {
                $table.append('<tr>' + textBox(text) + upArrow + downArrow + removeButton + '</tr>');
            }
        }

        function createJson() {
            var data = {
                question: $('#question').val(),
                questionType: $('#type').val(),
                questionLabel: $('#questionLabel').val(),
                grouping: $('#grouping').val()
            };

            if ($('#grouping').val() === 'Label')
                data.labelArr = getLabels();

            switch ($('#type').val()) {
                case 'Choice':
                    data.choices = getChoices()
                    break;
                case 'Rank':
                    data.firstWord = $('#first').val();
                    data.secondWord = $('#second').val();
                    break;
                case 'Label':
                    data.grouping = 'None';
                    break;
                case 'Rate':
                    data.optionalArr = getRates().optionals;
                    data.choiceArr = getRates().choices;
                    data.scaleArr = getRates().scales;
                    break;
                case 'Freeform':
                    data.types = getFreeformItems().types;
                    data.values = getFreeformItems().values;
                    break;
            }

            console.log(data);
            return data;
        }

        function deleteQuestion(label)
        {
            console.log(label);

            var r = confirm("Delete this question?");
            if (!r)
                return;
            var token = $('input[name="csrfmiddlewaretoken"]').prop('value');
            $.ajax({
                    url: "/questionAdmin/delete/", // the endpoint
                    type: "POST", // http method
                    data: {'questionLabel': label, 'csrfmiddlewaretoken': token}, // data sent with the post request

                    // handle a successful response
                    success: saveSuccess('Question was deleted successfully.')
                });
            updateQuestionList();
        }

        // AJAX for posting
        function create_post() {
            if (isEditing) {
                var data = createJson();
                data.pk = questionPk;
                $.ajax({
                    url: "questionAdmin/update/", // the endpoint
                    type: "GET", // http method
                    data: data, // data sent with the post request

                    // handle a successful response
                    success: saveSuccess('Question was edited successfully.')
                });

            } else {


                if ($('#question').val() == '') {
                    var r = confirm("No question entered. Save anyways?");
                    if (!r)
                        return;
                }

                var data = createJson();

                console.log(data); //Check

                //Send the data to the createQuestion view
                $.ajax({
                    url: "/createQuestion/", // the endpoint
                    type: "GET", // http method
                    data: data, // data sent with the post request

                    // handle a successful response
                    success: saveSuccess('Question was created successfully.')
                });
            }

            updateQuestionList();
        }
        ;
    </script>
    <script src="{% static "peer_review/validation.js" %}"></script>
    <!--<script src="{% static "peer_review/submit.js" %}"></script>-->
    <script type="text/javascript">
        $(document).ready(function () {
            $('#users tr').each(function () {
                $(this).find('input[type="text"]').each(function () {
                    $(this).attr('size', $(this).val().length);
                });
            });
        });
    </script>
    <!--Edit navbar active-->
    <script>
        title = "questionAdmin";
    </script>
    <!--end-->
{% endblock %}

{% block context %}
    <div class="container" id="content">
        <div class="panel panel-default">
            <div id="results">
            </div>
            <div class="panel-heading">
                <h4 class="panel-title">
                    <b>Create Question</b>
                </h4>
            </div>
            <div class="panel-body">
                <form role="form" id="questionForm" action="/createQuestion/" method="GET">
                    {% csrf_token %}
                    <input type="hidden" id="tableData">

                    <div class="form-group">
                        <label for="questionLabel">Question Label</label>
                        <textarea class="form-control" rows="1" style="resize:none;width:100%" id="questionLabel"
                                  name="questionLabel"></textarea>
                        <br/>
                        <label for="question">Question</label>
                        <textarea class="form-control"rows="3" style="resize:none;width:100%" id="question"
                                  name="question">{{ questionText }}</textarea>
                        <br/>

                        <div class="row">
                            <div class="col-xs-5">
                                <label>Type</label>
                            </div>
                            <div class="col-xs-5">
                                <label class="hide_in_label">Grouping</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-5">
                                <select id="type" class="form-control" style="width:auto" onchange="selected()"
                                        name="type" value= {{ questionType }}>
                                    {% if questionTypes %}
                                        {% for qt in questionTypes %}
                                            {% if qt == questionType %}
                                                <option selected value="{{ qt.name }}">{{ qt.name }}</option>
                                            {% else %}
                                                <option value="{{ qt.name }}">{{ qt.name }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                </select>
                            </div>
                            <div class="col-xs-5">
                                <select class="form-control hide_in_label" id="grouping" style="width:auto"
                                        onchange="changeGrouping()">
                                    <option value="None">None</option>
                                    <option value="Rest">Rest</option>
                                    <option value="All">All</option>
                                    <option value="Label">Label</option>
                                </select>
                            </div>
                        </div>
                        <br/>

                        <div id="typeDisplay">
                            <div class="row">
                                <div class="col-xs-5">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <table id="table" class="table"></table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <br/>
                            <button class="btn btn-primary" type="submit" onclick="create_post()">Save</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="hidden" class="hidden">
        <div id="Label"></div>
        <div id="Choice">
            <div class="row hide_in_label">
                <div class="labelTable">
                    <div class="col-xs-1">
                        <button class="btn btn-primary" id="btn" type="button"
                                onclick="addRow('', '#labelTable')">+ Add
                        </button>
                    </div>
                    <div class="col-xs-8">
                    </div>
                </div>
                <div class="col-xs-1">
                    <button class="btn btn-primary" id="btn" type="button" onclick="addRow('', '#table')">+ Add</button>
                </div>

            </div>

            <div class="row">
                <div class="col-xs-5">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table id="labelTable"
                                   class="table table-striped table-condensed table-hover btable labelTable">
                                <thead>
                                <tr>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Label</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>                
                <div class="col-xs-5">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table id="table" class="table table-striped table-condensed table-hover btable">
                                <thead>
                                <tr>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Choices</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                </tr>
                                </thead>
                                {% for c in choices %}
                                    <tr>
                                        <td style="text-align: center; ">
                                            <input type="text" class="noBorder" id="choice" value="{{ c }}"
                                                   style="text-align: center; "/>
                                        </td>
                                        <td style="text-align: center; width: 20px;">
                                            <a class="move up" href="javascript:void(0)" title="move up">
                                                <span class="glyphicon glyphicon-arrow-up"></span>
                                            </a>
                                        </td>

                                        <td style="text-align: center; width: 20px; ">
                                            <a class="move down" href="javascript:void(0)" title="move down">
                                                <span class="glyphicon glyphicon-arrow-down"></span>
                                            </a>
                                        </td>

                                        <td style="text-align: center; width: 20px; ">
                                            <a class="remove" href="javascript:void(0)">
                                                <span class="glyphicon glyphicon-minus"></span>
                                            </a>
                                        </td>
                                    <tr>
                                {% endfor %}
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="Rate">
            <div class="row hide_in_label">
                <div class="col-xs-1">
                    <button class="btn btn-primary" id="btn" type="button" onclick="addRow('', '#table')">+ Add</button>
                </div>
                <div class="col-xs-10">
                </div>
                <div class="col-xs-1">
                    <button class="btn btn-primary labelTable" id="btn" type="button"
                            onclick="addRow('', '#labelTable')">+ Add
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-7">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table id="table" class="table table-striped table-condensed table-hover btable">
                                <thead>
                                <tr>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Optional</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Scale</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Choice</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-xs-5">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table id="labelTable"
                                   class="table table-striped table-condensed table-hover btable labelTable">
                                <thead>
                                <tr>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Label</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="Rank">
            <div class="row">
                <div class="col-xs-4">
                    <label for='first'>First Word</label>
                </div>
                <div class="col-xs-4">
                    <label for='second'>Second Word</label>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-4">
                    <input class='form-control' type='text' id='first' value='{{ firstWord }}'/>
                </div>
                <div class="col-xs-4">
                    <input class='form-control' type='text' id='second'/>
                </div>
                <div class="col-xs-4">
                </div>
            </div>
            <br>

            <div class="row hide_in_label">
                <div class="col-xs-1">
                    <button class="btn btn-primary labelTable" id="btn" type="button"
                            onclick="addRow('', '#labelTable')">+ Add
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-5">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table id="labelTable"
                                   class="table table-striped table-condensed table-hover btable labelTable">
                                <thead>
                                <tr>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Label</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="Freeform">
            <div class="row hide_in_label">
                <div class="labelTable">
                    <div class="col-xs-1">
                        <button class="btn btn-primary labelTable" id="btn" type="button"
                                onclick="addRow('', '#labelTable')">+ Add
                        </button>
                    </div>
                    <div class="col-xs-8">
                    </div>
                </div>
                <div class="col-xs-1">
                    <button class="btn btn-primary" id="btn" type="button" onclick="addRow('', '#table')">+ Add</button>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-5">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table id="labelTable"
                                   class="table table-striped table-condensed table-hover btable labelTable">
                                <thead>
                                <tr>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Label</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-xs-5">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table id="table" class="table table-striped table-condensed table-hover btable">
                                <thead>
                                <tr>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Type</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; ">
                                        <div class="th-inner ">Value</div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                    <th style="text-align: center; width: 20px; ">
                                        <div class="th-inner "></div>
                                        <div class="fht-cell"></div>
                                        <div style="margin: 0px 2px 2px; display: none;" class="filterControl">
                                            <div style="height: 34px;"></div>
                                        </div>
                                    </th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="panel-group" id="accordion">
            <div class="panel panel-default">
                <div class="panel panel-default">
                    <div class="panel-heading" data-toggle="collapse" data-parent="#accordion"
                         data-target="#collapseOne">
                        <h4 class="panel-title">
                            <a>
                                Maintain Questions <b class="caret"></b>
                            </a>
                        </h4>
                    </div>
                    <div id="collapseOne" class="panel-collapse collapse">
                    <form>
                        <div class="panel-body">
                            <form id = "questionList">
                            <input type="text" class="form-control" id="search" placeholder="Search">
                            <div class='table-responsive'>
                            {% csrf_token %}
                                <table id='questionList'>
                                </table>
                            </div>
                        </div>
                    </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
